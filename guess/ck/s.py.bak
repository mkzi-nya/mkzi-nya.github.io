import sys
import glob

if len(sys.argv) != 2 or not sys.argv[1].startswith('#') or not sys.argv[1].endswith('#'):
    print("用法: python s.py #*a**ta#")
    sys.exit(1)

# 获取并解析输入模式
raw_pattern = sys.argv[1][1:-1].strip()
length = len(raw_pattern)

matches = []

# 遍历所有 .txt 文件
for filename in glob.glob("*.txt"):
    with open(filename, "r", encoding="utf-8") as f:
        for line in f:
            word = line.strip()
            if len(word) != length:
                continue
            if all(p == '*' or p == w for p, w in zip(raw_pattern, word)):
                matches.append(word)
                if len(matches) == 20:
                    break
    if len(matches) == 20:
        break

# 输出结果
if matches:
    print("匹配结果：")
    for m in matches:
        print(m)
else:
    print("没有找到匹配的数据。")
